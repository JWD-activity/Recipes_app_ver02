(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{189:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(20),a=c.n(i),s=(c(86),c(4)),o=(c(87),c(47)),r=c.n(o),l=c(0);var d=function(){return Object(l.jsxs)("div",{className:r.a.logo,children:[Object(l.jsx)("i",{className:"".concat(r.a.icon," fas fa-utensils")}),"COOKBOOK"]})},j=c(36),m=c.n(j);var u=function(e){var t;return Object(l.jsxs)("button",{onClick:e.onClick,className:"".concat(m.a.button," ").concat(m.a.fill," ").concat(null!==(t=e.className)&&void 0!==t?t:""),children:[e.icon&&Object(l.jsx)("i",{className:"".concat(e.icon," ").concat(m.a.icon)}),e.children]})},b=c(74),O=c.n(b),p=Object(n.createContext)(),x=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),i=c[0],a=c[1];return Object(l.jsx)(p.Provider,{value:{showModal:i,setShowModal:a,closeModal:function(){a(!1)},createModalOpen:function(){a(!0)},updateModalOpen:function(){a(!0)}},children:e.children})},f=c(5),h=Object(n.createContext)(),v=function(e){var t=Object(n.useState)([{id:"59d0208e-0490",title:"Garlic and Green Olives Pasta",cookingTime:15,servings:4,ingredients:["12oz. pappardelle or other wide noodle","Kosher salt","\xbccup extra-virgin olive oil","8 garlic cloves","1cup finely chopped parsley","1cup pitted Castelvetrano olives","crushed red pepper flakes","unsalted butter","1 cup basil leaves","2tsp. fresh lemon juice"]},{id:"59d0208e-0491",title:"Greek Salad",cookingTime:10,servings:3,ingredients:["6 firm ripe tomatoes","3 Lebanese cucumbers","1 red onion, sliced into rings","1 red capsicum, halved, deseeded, coarsely chopped","200g marinated Greek olives","220g marinated feta, coarsely chopped","1 tsp dried Greek oregano","1 tsp salt","125ml (1/2 cup) olive oil","60ml (1/4 cup) white vinegar"]}]),c=Object(s.a)(t,2),i=c[0],a=c[1],o=Object(n.useState)(),r=Object(s.a)(o,2),d=r[0],j=r[1];Object(n.useEffect)((function(){localStorage.setItem("recipes",JSON.stringify(i))}),[i]);return Object(l.jsx)(h.Provider,{value:{recipeList:i,activeRecipe:d,readRecipe:function(e){i.filter((function(t){return t.id===e&&j(t),t}))},addRecipe:function(e){a((function(t){return[e].concat(Object(f.a)(t))}))},updateRecipe:function(e,t){var c=e.title,n=e.cookingTime,s=e.servings,o=e.ingredients;j(e,e.id=t);var r=i.map((function(e){return e.id===t?{id:e.id,title:c,cookingTime:n,servings:s,ingredients:o}:e}));a(r)},deleteRecipe:function(e){var t=Object(f.a)(i),c=t.find((function(t,c){var n;return t.id===e&&(n=c),n}));t.splice(c,1),a(t),j(),alert("The recipe has been deleted successfully!")},setActiveRecipe:j,setRecipeList:a},children:e.children})};var g=function(e){var t=e.setMode,c=Object(n.useContext)(p).createModalOpen,i=Object(n.useContext)(h).setRecipeList,a=Object(n.useState)(!0),o=Object(s.a)(a,2),r=o[0],j=o[1];Object(n.useEffect)((function(){if(null!==localStorage.getItem("recipes")){var e=localStorage.getItem("recipes");i(JSON.parse(e))}}),[]);var m=function(){window.innerWidth<=576?j(!1):j(!0)};return Object(n.useEffect)((function(){m()}),[]),window.addEventListener("resize",m),Object(l.jsxs)("header",{className:"row py-4 px-3 align-items-center",children:[Object(l.jsx)("div",{className:"col-sm-4",children:Object(l.jsx)(d,{})}),Object(l.jsx)("div",{className:"col-sm-8 ".concat(O.a["btn-box"]),children:Object(l.jsx)(u,{icon:"fas fa-plus-square",onClick:function(){t("create"),c()},children:r&&"Add recipe"})})]})},_=c(22),N=c.n(_),k=Object(n.createContext)();var C=function(e){var t=Object(n.useState)(0),c=Object(s.a)(t,2),i=c[0],a=c[1];return Object(l.jsx)(k.Provider,{value:{selectedRecipeId:i,setSelectedId:function(e){a(e)}},children:e.children})};function M(e){var t=e.setMode;console.log("footer render");var c=Object(n.useContext)(k),i=c.selectedRecipeId,a=c.setSelectedId,s=Object(n.useContext)(p).updateModalOpen,o=Object(n.useContext)(h).deleteRecipe;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("footer",{className:"row ".concat(N.a.footer),children:[Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-5"}),Object(l.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-7 ".concat(N.a["button-container"]),children:0!==i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u,{className:N.a.button,onClick:function(){s(),t("update")},children:"Update"}),Object(l.jsx)(u,{className:N.a.button,onClick:function(){window.confirm("Are you sure want to delete the recipe? If you delete the recipe, you will permanently lose your selected recipe.")&&(o(i),a(0))},children:"Delete"})]})})]})})}var R=c(37),w=c.n(R);var y=function(){return console.log("WelcomeContent render"),Object(l.jsx)("div",{className:w.a.container,children:Object(l.jsx)("div",{className:w.a["h2-box"],children:Object(l.jsx)("h2",{className:w.a.h2,children:"Welcome to COOKBOOK"})})})},F=c(23),S=c.n(F);var I=function(){console.log("RecipeList render");var e=Object(n.useContext)(h),t=e.recipeList,c=e.readRecipe,i=e.activeRecipe,a=Object(n.useContext)(k).setSelectedId,s=function(e){a(e.target.dataset.id),c(e.target.dataset.id)};return Object(l.jsxs)("ul",{className:S.a.ul,children:[Object(l.jsxs)("p",{className:S.a.p,children:[Object(l.jsx)("i",{className:"fas fa-arrow-circle-down me-2"}),"Select a recipe to check the details."]}),t.map((function(e){return Object(l.jsx)("li",{"data-id":e.id,onClick:s,className:"".concat(S.a.li," text-capitalize ").concat(i&&i.id===e.id?S.a.active:""),children:e.title},e.id)}))]})},T=c(48),L=c.n(T);var B=function(){console.log("Recipe Detail render");var e=Object(n.useContext)(h).activeRecipe;return Object(l.jsx)(l.Fragment,{children:e?Object(l.jsxs)("ul",{className:"row ".concat(L.a.ul),children:[Object(l.jsx)("li",{children:e.title}),Object(l.jsxs)("li",{className:"col-md-4 col-sm-3",children:[Object(l.jsx)("i",{className:"far fa-clock me-2"}),function(e){if(e>=60){var t=Math.floor(e/60),c=e%60;return c>0?t+" hr "+c+" mins":t+" hr "}return e+" mins"}(+e.cookingTime)]}),Object(l.jsxs)("li",{className:"col-md-4 col-sm-3",children:[Object(l.jsx)("i",{className:"fas fa-user-friends me-2"}),e.servings," servings"]}),Object(l.jsx)("li",{children:"Ingredients:"}),Object(l.jsx)("ul",{className:L.a.ingredients,children:e.ingredients.map((function(e,t){return Object(l.jsx)("li",{"data-index":t,children:e},t)}))})]},e.id):""})},E=function(e){var t=e.setMode;console.log("ReadContent render");var c=Object(n.useContext)(h).recipeList;return Object(n.useEffect)((function(){c.length>0?t("read"):t("welcome")}),[c]),Object(l.jsxs)("main",{className:"row",children:[Object(l.jsx)("div",{className:"recipe col-sm-12 col-md-6 col-lg-5",children:Object(l.jsx)(I,{})}),Object(l.jsx)("section",{className:"recipe col-sm-12 col-md-6 col-lg-7",children:Object(l.jsx)(B,{})})]})},A=c(3),q=c.n(A),K=c(10),D=c(15),J=c(192),P=c(193),V=c(80),W=c.n(V);var G=function(e){return Object(l.jsx)("div",{className:"".concat(W.a.card," ").concat(e.className),children:e.children})};var U=function(e){var t=e.icon,c=e.remove,n=e.className,i=e.ingredients,a=function(e){c(e.target.dataset.index)};return Object(l.jsx)(l.Fragment,{children:i.length>0?i.map((function(e,c){return Object(l.jsxs)("li",{"data-index":c,className:"".concat(null!==n&&void 0!==n?n:""),onClick:a,children:[e,t&&Object(l.jsx)("i",{"data-index":c,className:t})]},c)})):""})},z=c(194),H=D.c().shape({title:D.d().trim().strict(!0).required("Required").min(1),cookingTime:D.b().required("Required").positive("Invalid Cooking time").integer(),servings:D.b().required("Required").positive("Invalid Servings").integer(),ingredients:D.a().of(D.d()).required("Must have ingredients").min(2,"Minimum of 2 ingredients")});var X=function(e){var t=e.mode,c=e.setMode,i=Object(n.useContext)(h),s=i.addRecipe,o=i.updateRecipe,r=i.activeRecipe,d=i.setActiveRecipe,j=Object(n.useContext)(k),m=j.setSelectedId,b=j.selectedRecipeId,O=Object(n.useContext)(p),x=O.setShowModal,f=O.closeModal,v=function(){c("read"),f()},g=null!==r&&void 0!==r?r:"",_=g.id,N=g.title,C=g.cookingTime,M=g.servings,R=g.ingredients,w=Object(K.e)({initialValues:"create"===t?{title:"",cookingTime:"",servings:"",ingredient:"",ingredients:[]}:"update"===t?{title:N,cookingTime:C,servings:M,ingredients:R}:"",onSubmit:function(e){console.log(JSON.stringify(e,null,2))}});return Object(l.jsxs)(l.Fragment,{children:[a.a.createPortal(Object(l.jsx)("div",{className:q.a.backdrop}),document.getElementById("backdrop-root")),a.a.createPortal(Object(l.jsx)(K.d,{initialValues:w.initialValues,validationSchema:H,onKeyDown:function(e){return e.preventDefault()},onSubmit:function(e){return"create"===t?(s(n=e,n.id=Object(z.a)()),m(n.id),d(n),c("read"),void f()):function(e,t){o(e,t),c("read"),x(!1)}(e,b);var n},children:function(e){var c=e.errors,n=e.touched;return Object(l.jsxs)(G,{className:q.a.modal,children:[Object(l.jsxs)(J.a,{className:"align-items-center ".concat(q.a["modal-top"]),children:[Object(l.jsx)(P.a,{xs:12,sm:3,className:"d-flex justify-content-end",children:Object(l.jsx)(u,{icon:"fas fa-times",className:q.a["modal-close"],onClick:v})}),Object(l.jsx)(P.a,{xs:12,sm:9,children:Object(l.jsx)("header",{className:q.a["modal-header"],children:Object(l.jsx)("h3",{className:"fw-bold",children:"create"===t?"Add a new recipe":"Update a recipe"})})})]}),Object(l.jsx)(K.c,{children:Object(l.jsxs)(J.a,{children:[Object(l.jsxs)(P.a,{sm:12,md:6,className:q.a.form,children:[Object(l.jsxs)(J.a,{children:["update"===t&&Object(l.jsx)("input",{type:"hidden",name:"id",value:_}),Object(l.jsxs)(P.a,{className:"mb-4",children:[Object(l.jsx)("label",{htmlFor:"title",className:"form-label fw-bold",children:"Recipe Title"}),Object(l.jsx)(K.a,{type:"text",id:"title",name:"title",className:"form-control ".concat(q.a.form)}),c.title&&n.title?Object(l.jsx)("div",{className:q.a.error,children:c.title}):null]})]}),Object(l.jsxs)(J.a,{children:[Object(l.jsxs)(P.a,{xs:12,sm:6,className:"mb-4",children:[Object(l.jsx)("label",{htmlFor:"cookingTime",className:"form-label fw-bold",children:"Cook Time"}),Object(l.jsx)(K.a,{type:"number",id:"cookingTime",name:"cookingTime",placeholder:"min",className:"form-control ".concat(q.a.form),min:"1",step:"1"}),c.cookingTime&&n.cookingTime?Object(l.jsx)("div",{className:q.a.error,children:c.cookingTime}):null]}),Object(l.jsxs)(P.a,{xs:12,sm:6,className:"mb-4",children:[Object(l.jsx)("label",{htmlFor:"servings",className:"form-label fw-bold",children:"Servings"}),Object(l.jsx)(K.a,{type:"number",id:"servings",name:"servings",placeholder:"servings",className:"form-control ".concat(q.a.form),min:"1",step:"1"}),c.servings&&n.servings?Object(l.jsx)("div",{className:q.a.error,children:c.servings}):null]})]})]}),Object(l.jsx)(P.a,{sm:12,md:6,className:q.a.form,children:Object(l.jsx)(J.a,{children:Object(l.jsxs)("div",{className:"mb-3 align-items-center",children:[Object(l.jsx)("label",{htmlFor:"ingredients",className:"form-label fw-bold",children:"Ingredients"}),Object(l.jsx)(K.b,{name:"ingredients",children:function(e){var t=e.unshift,i=e.remove,a=e.form,s=a.values,o=a.setFieldValue,r=s.ingredients;return Object(l.jsxs)("div",{children:[Object(l.jsx)(K.a,{type:"text",id:"ingredient",name:"ingredient",className:"form-control ".concat(q.a.form),placeholder:"Enter your ingredient",onKeyDown:function(e){"Enter"===e.key&&0!==e.target.value.trim().length&&(e.preventDefault(),t(e.target.value),o("ingredient",""))}}),c.ingredients&&n.ingredients?Object(l.jsx)("div",{className:q.a.error,children:c.ingredients}):null,Object(l.jsx)("ul",{className:"mt-4 ".concat(q.a.ul),children:Object(l.jsx)(U,{icon:"fas fa-times",remove:i,ingredients:r,className:q.a.li})})]})}})]})})}),Object(l.jsx)(P.a,{className:"my-2",children:Object(l.jsx)(u,{type:"submit",children:"save"})})]})})]})}}),document.getElementById("modal-root"))]})};var Z=function(e){var t=e.mode,c=e.setMode;console.log("UpdateContent render");var i=Object(n.useContext)(p).showModal;return Object(l.jsx)(l.Fragment,{children:i&&Object(l.jsx)(X,{mode:t,setMode:c})})},Q=function(e){var t=e.mode,c=e.setMode;console.log("CreateContent render");var i=Object(n.useContext)(p).showModal;return Object(l.jsx)(l.Fragment,{children:i&&Object(l.jsx)(X,{mode:t,setMode:c})})};console.log("First App render");var Y=function(){console.log("App render");var e=Object(n.useState)("read"),t=Object(s.a)(e,2),c=t[0],i=t[1];return Object(l.jsx)("div",{className:"app container",children:Object(l.jsx)(v,{children:Object(l.jsxs)(x,{children:[Object(l.jsx)(g,{setMode:i}),Object(l.jsxs)(C,{children:["welcome"===c?Object(l.jsx)(y,{}):"read"===c?Object(l.jsx)(E,{mode:c,setMode:i}):"create"===c?Object(l.jsx)(Q,{mode:c,setMode:i}):"update"===c?Object(l.jsx)(Z,{mode:c,setMode:i}):"",Object(l.jsx)(M,{setMode:i})]})]})})})};a.a.render(Object(l.jsx)(Y,{}),document.getElementById("root"))},22:function(e,t,c){e.exports={footer:"Footer_footer__3K023","button-container":"Footer_button-container__1EUq4",button:"Footer_button__2Iloa"}},23:function(e,t,c){e.exports={ul:"RecipeList_ul__vjicB",li:"RecipeList_li__3QU8B",active:"RecipeList_active__rgA30",icon:"RecipeList_icon__29edH",p:"RecipeList_p__37Ayp"}},3:function(e,t,c){e.exports={form:"FormModal_form__3nZRu",backdrop:"FormModal_backdrop__1ocsl",modal:"FormModal_modal__3byJB","modal-top":"FormModal_modal-top__v-cgV","modal-header":"FormModal_modal-header__1guNf","modal-close":"FormModal_modal-close__3nPam",ul:"FormModal_ul__ng3SX",error:"FormModal_error__3cHIv",li:"FormModal_li__seVoW"}},36:function(e,t,c){e.exports={button:"Button_button__2l-Rf",icon:"Button_icon__3pdlG",fill:"Button_fill__3444V"}},37:function(e,t,c){e.exports={container:"WelcomeContent_container__2_ozm",h2:"WelcomeContent_h2__2YMA7"}},47:function(e,t,c){e.exports={logo:"Logo_logo__1jH2J",icon:"Logo_icon__ZLdKm"}},48:function(e,t,c){e.exports={ul:"RecipeDetail_ul__1BjOt",ingredients:"RecipeDetail_ingredients__2zfhg"}},74:function(e,t,c){e.exports={"btn-box":"Header_btn-box__1UoX_","btn-mobile":"Header_btn-mobile__3ine2"}},80:function(e,t,c){e.exports={card:"Card_card__35WdF"}},86:function(e,t,c){},87:function(e,t,c){}},[[189,1,2]]]);
//# sourceMappingURL=main.d174babb.chunk.js.map